(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{58:function(e,t,n){},59:function(e,t,n){},63:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t),n.d(t,"connect",(function(){return G})),n.d(t,"sendMsg",(function(){return Y}));var c=n(0),a=n.n(c),s=n(13),r=n.n(s),o=(n(58),n(41)),i=n(6),j=(n(59),n(9)),l=(n(63),n(75)),u=n(81),b=n(80),d=n(1),O=function(){return Object(d.jsx)(l.a,{children:Object(d.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(u.a.Brand,{children:"Chat with Strangers as a Stranger"}),Object(d.jsx)(u.a.Toggle,{}),Object(d.jsx)(u.a.Collapse,{className:"justify-content-end",children:Object(d.jsxs)(b.a,{children:[Object(d.jsx)(b.a.Link,{children:Object(d.jsxs)(u.a.Text,{children:["Developed by ",Object(d.jsx)("a",{children:"Rajat "})]})}),Object(d.jsx)(b.a.Link,{children:Object(d.jsx)(u.a.Text,{children:"Powered by ReactJS, Redux & Go"})})]})})]})})})},h=n(83),f=n(76),g=n(77),x=(n(68),function(e){var t,n=Object(c.useState)(JSON.parse(e.message)),a=Object(i.a)(n,2),s=a[0];a[1];return console.log(s),s.body&&(t=JSON.parse(s.body)),Object(d.jsxs)(d.Fragment,{children:[t&&t.user?t.user:"user"," -  ",t&&t.msg?t.msg:""]})}),m=(n(69),n(70),function(e){var t=e.messages,n=function(){return t.map((function(e,t){return console.log(e),Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(x,{message:e.data})})}))};return setTimeout((function(){var e=document.querySelector("#chat-history-body");e&&(e.scrollTop=e.scrollHeight),console.log(e)}),0),Object(d.jsx)(l.a,{className:"my-5",children:Object(d.jsx)(f.a,{children:Object(d.jsx)(g.a,{md:"6",className:"mx-auto",children:Object(d.jsxs)("div",{className:"ChatHistory",children:[Object(d.jsx)("h2",{className:"p-3",children:"Chat History"}),Object(d.jsx)(h.a,{variant:"flush",className:"overflow-auto",style:{maxHeight:"300px"},id:"chat-history-body",children:Object(d.jsx)(n,{})})]})})})})}),v=n(84),y="SAVE_USER",p="DELETE_USER",S="LOGIN_LATER",N=n(79),L=n(82),k=n(78),C=function(e){console.log("login works");var t=Object(c.useState)(!0),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),u=o[0],b=o[1],O=Object(j.b)();console.log("LOGIN SHOW",a);var h=function(){O({type:S,info:"Login Later"}),s(!1),e.cancel&&e.cancel()};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(N.a,{show:a,onHide:h,backdrop:"static",keyboard:!1,children:[Object(d.jsx)(N.a.Header,{closeButton:!0,children:Object(d.jsx)(N.a.Title,{children:"Please Save Your Name"})}),Object(d.jsx)(N.a.Body,{children:Object(d.jsxs)(L.a,{className:"mb-3",children:[Object(d.jsx)(L.a.Text,{id:"basic-addon1",children:"@"}),Object(d.jsx)(v.a,{placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",value:u,onChange:function(e){return b(e.target.value)}})]})}),Object(d.jsx)(N.a.Footer,{children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(f.a,{className:"justify-content-md-center",children:[Object(d.jsx)(g.a,{md:2,children:Object(d.jsx)(k.a,{variant:"primary",onClick:function(){u.length&&(O({type:y,payload:u}),s(!1))},children:"Save"})}),Object(d.jsx)(g.a,{md:2,children:Object(d.jsx)(k.a,{variant:"danger",onClick:h,children:"Later"})})]})})})]})})},E=(n(71),function(e){var t=Object(j.c)((function(e){return e.user.loginLater})),n=Object(j.c)((function(e){return e.user.isLogin})),a=Object(c.useState)(!1),s=Object(i.a)(a,2),r=s[0],o=s[1],u=Object(c.useState)(t),b=Object(i.a)(u,2),O=b[0],h=b[1],f=Object(c.useState)(n),x=Object(i.a)(f,2),m=x[0],y=x[1];Object(c.useEffect)((function(){h(t)}),[t]),Object(c.useEffect)((function(){y(n)}),[n]);return Object(d.jsx)(l.a,{className:"my-5",children:Object(d.jsx)(g.a,{md:"6",className:"mx-auto",children:Object(d.jsxs)("div",{className:"ChatInput",children:[Object(d.jsx)(v.a,{placeholder:"Type a message... and Hit enter to send","aria-label":"message",onKeyDown:function(t){return function(t){m||O?(o(!1),e.send(t)):o(!0)}(t)}}),r&&Object(d.jsx)(C,{})]})})})}),w="ADD",T="MINUS";n(72);var R=function(e){var t=Object(j.c)((function(e){return e.user.userName})),n=Object(j.c)((function(e){return e.user.isLogin})),a=Object(j.b)(),s=Object(c.useState)([]),r=Object(i.a)(s,2),u=r[0],b=r[1],h=Object(c.useState)(!n),f=Object(i.a)(h,2),g=f[0],x=f[1],v=Object(c.useState)(!1),y=Object(i.a)(v,2),S=y[0],N=y[1];Object(c.useEffect)((function(){x(!n)}),[n]);var L=function(e){u.push(e),b(Object(o.a)(u))};return Object(c.useEffect)((function(){G(L)})),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(O,{}),Object(d.jsx)(m,{messages:u}),Object(d.jsx)(E,{send:function(e){13===e.keyCode&&(Y(JSON.stringify({user:t,msg:e.target.value})),e.target.value="")}}),g&&Object(d.jsx)(l.a,{className:"my-5",children:Object(d.jsx)(k.a,{variant:"info",onClick:function(){return N(!0)},children:"PUT YOUR NAME"})}),!g&&Object(d.jsx)(l.a,{className:"my-5",children:Object(d.jsx)(k.a,{variant:"warning",onClick:function(){a({type:p,info:"Signing Out"}),N(!1)},children:"Remove YOUR NAME"})}),S&&Object(d.jsx)(C,{cancel:function(){N(!1)}})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},U=n(43),A=n(2),F={count:0};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(A.a)(Object(A.a)({},e),{},{count:e.count+1});case T:return Object(A.a)(Object(A.a)({},e),{},{count:e.count-1});default:return e}},D={loginLater:!1,isLogin:!1,userName:""},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(A.a)(Object(A.a)({},e),{},{userName:t.payload,isLogin:!0});case p:return Object(A.a)(Object(A.a)({},e),{},{userName:"",isLogin:!1});case S:return Object(A.a)(Object(A.a)({},e),{},{loginLater:!0});default:return e}},B=Object(U.a)({counter:I,user:J}),M=Object(U.b)(B),P=new WebSocket("wss://shrouded-ridge-25642.herokuapp.com/ws"),G=function(e){console.log("Attempting Connection ... "),P.onopen=function(){console.log("Successfully Connected")},P.onmessage=function(t){e(t)},P.onclose=function(e){console.log("Socket Closed Connection: ",e)},P.onerror=function(e){console.log("Socket Error: ",e)}},Y=function(e){console.log("sending msg: ",e),P.send(e)};r.a.render(Object(d.jsx)(j.a,{store:M,children:Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(R,{})})}),document.getElementById("root")),H()}},[[73,1,2]]]);
//# sourceMappingURL=main.0df42c7f.chunk.js.map